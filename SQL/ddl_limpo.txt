CREATE TABLE SIL.DPEDIDOS (
    NUMPEDIDO       VARCHAR2(64) not null,
    NUMPROCESSO     NUMBER(15),
    EPISODIO        NUMBER(20),
    MODULO          VARCHAR2(3),
    DESIGNAMODULO   VARCHAR2(30),
    ESPECIALID      NUMBER(12),
    DESIGNAESPECIAL VARCHAR2(40),
    IDSER           VARCHAR2(10),
    SERVICO         VARCHAR2(60),
    DATAPEDIDO      DATE,
    POSTO           VARCHAR2(20),
    DOCIDDOENTE     NUMBER(12),
    NOMEDOENTE      VARCHAR2(100),
    DATANASCIMENTO  DATE,
    SEXO            VARCHAR2(1),
    MODALIDADE      VARCHAR2(20),
    NUMEXAME        VARCHAR2(64),
    VERIFICADO      NUMBER(1),
    AVISADO         NUMBER(1),
    MARCADO         NUMBER(1), 
    RECOLHIDO       NUMBER(1),
    FECHADO         NUMBER(1),
    SEGURA          NUMBER(1),
    UTILIZA         VARCHAR2(32),
    UTILIZAMARCA    VARCHAR2(32),
    UTILIZARECOLHA  VARCHAR2(32),
    TIPOANALISE     VARCHAR2(1),
    MEDICO          VARCHAR2(40),
    SERV            VARCHAR2(10),
    DATAVERIFICACAO DATE,
    DATAMARCADO     DATE,
    DATAMARCACAO    DATE,
    HORAMARCACAO    DATE,
    DATARECOLHA     DATE,
    DATACHEGADA     DATE,
    DATACHAMADA     DATE,
    DATAEXAME       DATE,
    URGENTE         NUMBER(3),
    OBSERVACOES     VARCHAR2(2000),
    INFCLINICA      VARCHAR2(4000),
    CONTRAINDIC     VARCHAR2(2000),
    SUGMARCACAO     VARCHAR2(2000),
    PEDIDOMAE       VARCHAR2(64),
    POSTOAGENDA     VARCHAR2(30),
    REF_ENTRADA     VARCHAR2(20),
    BLOQAGENDA      NUMBER(1),
    TRIAGEM         VARCHAR2(10)
    PRIMARY KEY (NUMPEDIDO, PEDIDOMAE)
);

CREATE INDEX SIL.DPEDIDOS_IDX_1 ON SIL.DPEDIDOS (EPISODIO);
CREATE INDEX SIL.ATM0040 ON SIL.DPEDIDOS (DOCIDDOENTE);
CREATE INDEX SIL.ATM0044 ON SIL.DPEDIDOS (EPISODIO, IDSER);
CREATE INDEX SIL.ATM0045 ON SIL.DPEDIDOS (MODULO, IDSER, VERIFICADO, DATAPEDIDO);
CREATE INDEX SIL.DPUTLI ON SIL.DPEDIDOS (UTILIZAMARCA);
CREATE INDEX SIL.IDPEDIDOS01 ON SIL.DPEDIDOS (IDSER, NUMPEDIDO, EPISODIO, MODULO, MODALIDADE, MEDICO, MARCADO, DATAPEDIDO);
CREATE INDEX SIL.IDX_PEDIDOS_POSTOAIDA ON SIL.DPEDIDOS (POSTOAGENDA, IDSER, DATAMARCACAO, FECHADO, MARCADO);
CREATE INDEX SIL.IDPEDEX ON SIL.DPEDIDOS (NUMEXAME);

CREATE TABLE SIL.PEDIDOS (
    NUMPEDIDO           VARCHAR2(64) NOT NULL,
    ORDEM               NUMBER(4) NOT NULL,
    IDSER               VARCHAR2(10),
    MODALIDADE          VARCHAR2(20),
    CODPROTOCOLO        VARCHAR2(10),
    DESIGNACAOPROTOCOLO VARCHAR2(90),
    CODPROP             VARCHAR2(1),
    VERIFICADO          NUMBER(1),
    DATAVERIFICACAO     DATE,
    PEDIDOFILHO         VARCHAR2(64),
    COD_PEDIDO          VARCHAR2(20),
    DES_PEDIDO          VARCHAR2(200),
    NOTA_LINHAS         VARCHAR2(2000),
    CANCELAR            NUMBER,
    DATAMSG             DATE,
    NUMACTOMED          NUMBER,
    ID_BDNR             VARCHAR2(30),
    ID_REQUISICAO       VARCHAR2(30),
    COD_MCDT            VARCHAR2(51),
    PIN_AGENDAMENTO     VARCHAR2(10),
    PRIMARY KEY (NUMPEDIDO, ORDEM)
);

CREATE INDEX SIL.ATM0048 ON SIL.PEDIDOS (NUMPEDIDO);

CREATE TABLE SIL.DEXAMES (
    NUMEXAME           VARCHAR2(64) not null,
    VERSAO             NUMBER(4)    not null,
    NUMPROCESSO        NUMBER(15),
    EPISODIO           NUMBER(20),
    MODULO             VARCHAR2(3),
    DESIGNAMODULO      VARCHAR2(30),
    ESPECIALID         NUMBER(7),
    DESIGNAESPECIAL    VARCHAR2(40),
    IDSER              VARCHAR2(10) not null,
    SERVICO            VARCHAR2(100),
    DATAPEDIDO         DATE,
    DATAEXAME          DATE,
    DOCIDDOENTE        NUMBER(12),
    NOMEDOENTE         VARCHAR2(100),
    DATANASCIMENTO     DATE,
    SEXO               VARCHAR2(1),
    PATHRELATORIO      VARCHAR2(100),
    GRUPO              VARCHAR2(20) not null,
    NUMPEDIDO          VARCHAR2(64),
    VERIFICADO         NUMBER(1),
    FACTURADO          NUMBER(1),
    IMAGEM             NUMBER(1),
    RELATORIO          NUMBER(2),
    FECHADO            NUMBER(1),
    SEGURA             NUMBER(1),
    UTILIZA            VARCHAR2(32),
    TIPOANALISE        VARCHAR2(1),
    MEDICO             VARCHAR2(40),
    SERV               VARCHAR2(10),
    DATAVERIFICACAO    DATE,
    DATAFACTURACAO     DATE,
    DATARELAT          DATE,
    DATAFECHO          DATE,
    DATAIMAGEM         DATE,
    SUBSISTEMA         NUMBER(6),
    PROVENIENCIA       NUMBER(2),
    LISTAESTUDOS       VARCHAR2(100),
    CCUSTO             NUMBER(20),
    LISTATECNICOS      VARCHAR2(100),
    POSTO              VARCHAR2(20),
    MODALIDADE         VARCHAR2(20),
    DAUDITADO          DATE,
    DEXAMINADO         DATE,
    NUMEROPROV         VARCHAR2(64),
    DTA_ALTA           DATE,
    NOMEFICH           VARCHAR2(64),
    DATAIMPRESSAO      DATE,
    HORAPEDIDO         VARCHAR2(10),
    HORAEXAME          VARCHAR2(10),
    IDSERORI           VARCHAR2(40),
    NORI               NUMBER(1),
    BODYPART           VARCHAR2(500),
    DTA_CONSULTA       DATE,
    NEXT_ESPECIALIDADE VARCHAR2(50),
    MRELAT             NUMBER,
    DATAVERSAO         DATE,
    PRIVADO            VARCHAR2(1),
    REQ_IDSER          VARCHAR2(100),
    AOUCEXAME          NUMBER(1),
    CONSTRAINT DEXAMES_PK PRIMARY KEY (NUMEXAME, IDSER, GRUPO, VERSAO)
);

CREATE INDEX SIL.DEXAMES_IDX_1 ON SIL.DEXAMES (PATHRELATORIO);
CREATE INDEX SIL.DEXAMES_IDX_2 ON SIL.DEXAMES (EPISODIO, VERIFICADO);
CREATE INDEX SIL.DEXAMES_IDX_3 ON SIL.DEXAMES (IDSER, VERIFICADO);
CREATE INDEX SIL.DEXAMES_IDX_4 ON SIL.DEXAMES (NUMEXAME);
CREATE INDEX SIL.DEXAMES_IDX_5 ON SIL.DEXAMES (VERIFICADO);
CREATE INDEX SIL.DEXAMES_IDX_6 ON SIL.DEXAMES (DOCIDDOENTE);
CREATE INDEX SIL.DEXAMES_IDX_7 ON SIL.DEXAMES (FACTURADO);
CREATE INDEX SIL.RELATORIOS ON SIL.DEXAMES (SERVICO, DATAEXAME, RELATORIO);

CREATE TABLE SIL.EXAMES (
    NUMEXAME          VARCHAR2(64) not null,
    VERSAO            NUMBER(4)    not null,
    ORDEM             NUMBER(4)    not null,
    VALIDADE          NUMBER(3),
    IDSER             VARCHAR2(10) not null,
    GRUPO             VARCHAR2(20) not null,
    CODIGIF           VARCHAR2(10),
    DESIGNACAOIGIF    VARCHAR2(200),
    CODIGOANALISE     VARCHAR2(10) not null,
    DESIGNACAOANALISE VARCHAR2(200),
    CODPROP           VARCHAR2(1),
    VERIFICADO        NUMBER(1),
    FACTURADO         NUMBER(1),
    DATAVERIFICACAO   DATE,
    DATAFACTURACAO    DATE,
    TIPOANESTESIA     VARCHAR2(50),
    MEDICOANESTESIA   VARCHAR2(50),
    IDSERORI          VARCHAR2(10),
    ID_BDNR           VARCHAR2(30),
    ID_REQUISICAO     VARCHAR2(30),
    COD_MCDT          VARCHAR2(51),
    PIN_AGENDAMENTO   VARCHAR2(10),
    PRIMARY KEY (IDSER, GRUPO, NUMEXAME, CODIGOANALISE, VERSAO, ORDEM)
);

CREATE INDEX SIL.CODIGIF ON SIL.EXAMES (CODIGIF);

